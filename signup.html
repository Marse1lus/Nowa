{% extends "base_generic.html" %}
{% load static %}

{% block content %}
  <link rel="stylesheet" href="{% static 'tournaments/registration.css' %}">

  <header class="header" role="banner">
    <div class="logo" role="heading" aria-level="1">
      <a href="{% url 'home' %}" class="logo-link">
        NO<span class="highlight-w">W</span>ACHAMPIONSHIP ü§º‚Äç‚ôÇÔ∏è
      </a>
    </div>
    <nav class="nav-menu" role="navigation" aria-label="–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é">
      <a href="{% url 'tournament_list' %}" role="menuitem">–¢—É—Ä–Ω–∏—Ä—ã</a>
      <div class="dropdown">
        <a href="#" class="nav-link" role="button" aria-haspopup="true" aria-expanded="false" aria-controls="sections-menu">
          –°–µ–∫—Ü–∏–∏ ‚ñº
        </a>
        <div class="dropdown-content" id="sections-menu" role="menu" aria-label="–í—ã–±–æ—Ä —Å–µ–∫—Ü–∏–∏">
          <a href="#" role="menuitem">–ú–∞–º–µ—Ç–æ–≤–∞</a>
          <a href="#" role="menuitem">–ñ–∞–Ω—Å—É–≥—É—Ä–æ–≤–∞</a>
        </div>
      </div>
      <div class="dropdown">
        <a href="#" class="nav-link" role="button" aria-haspopup="true" aria-expanded="false" aria-controls="about-menu">
          –û –Ω–∞—Å ‚ñº
        </a>
        <div class="dropdown-content" id="about-menu" role="menu" aria-label="–û –Ω–∞—Å">
          <a href="https://teamnova.kz/p/d9b54a/" role="menuitem"> –û–¥–µ–∂–¥–∞</a>        
          <a href="#" role="menuitem">–ì–∞–ª–µ—Ä–µ—è</a>
          <a href="https://teamnova.kz/?fbclid=PAZXh0bgNhZW0CMTEAAabqvuAdlphCRMiUAHZdep2UTLlLhtCTS6DYdvksrVo9BqU0Xt3qHUsoojE_aem_M8j27ck8Z9D-t-2EcmU9aQ#contacts" role="menuitem" target="_blank">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        </div>
      </div>
      <a href="{% url 'login' %}" class="signup">–í–æ–π—Ç–∏</a>
      <a href="{% url 'signup' %}" class="signup">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</a>
    </nav>
  </header>

  <main class="main">
    <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      
      <div>
        <label for="id_username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
        <input type="text" name="username" id="id_username" required>
      </div>
      
      <div>
        <label for="id_email">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞:</label>
        <input type="email" name="email" id="id_email" required>
      </div>
      
      <div>
        <label for="id_password">–ü–∞—Ä–æ–ª—å:</label>
        <input type="password" name="password" id="id_password" required>
      </div>
      
      <div>
        <label for="id_confirm_password">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:</label>
        <input type="password" name="confirm_password" id="id_confirm_password" required>
      </div>
      
      <div>
        <label for="id_bio">–û —Å–µ–±–µ:</label>
        <textarea name="bio" id="id_bio"></textarea>
      </div>
      
      <div>
        <label for="id_profile_picture">–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è:</label>
        <input type="file" name="profile_picture" id="id_profile_picture">
      </div>
      
      <button type="submit">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
    </form>
    <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="{% url 'login' %}">–í–æ–π—Ç–∏</a></p>

    {% if user_form.errors %}
      <ul>
        {% for field in user_form %}
          {% for error in field.errors %}
            <li>{{ error }}</li>
          {% endfor %}
        {% endfor %}
      </ul>
    {% endif %}
  </main>

  <script>
      document.getElementById('signupForm').addEventListener('submit', function(event) {
          const password = document.querySelector('input[name="password"]').value;
          const confirmPassword = document.querySelector('input[name="confirm_password"]').value;

          if (password !== confirmPassword) {
              event.preventDefault();
              alert('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!');
          }
      });
  </script>
{% endblock %}
